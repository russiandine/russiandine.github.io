<!DOCTYPE html>
<html>

<head>

</head>

<body>

  <canvas id="canvas" width="600" height="600"></canvas>


</body>

</html>

<script>
  document.getElementById("canvas")
  var ctx = canvas.getContext("2d")

  canvas.width = innerWidth
  canvas.height = innerHeight

  var x = 400
  var y = 300
  var startSpot = x, y
  var goal = 1000
  var foodPlaceX = []
  var foodPlaceY = []
  var round50x = 0
  var round50y = 0
  var l = 0
  var foodNum = 80







  var movements = ["u", "d", "l", "r"]

  var brain = [startSpot]


  for (i = 0; i < 3000; i++) {
    brain.push(movements[Math.floor(Math.random() * movements.length)])

    console.log(brain)
    task(i);


  }

  function task(i) {
    setTimeout(function () {
      if (brain[i] === movements[0]) {
        y = y + 10
      }
      if (brain[i] === movements[1]) {
        y = y - 10
      }
      if (brain[i] === movements[2]) {
        x = x + 10
      }
      if (brain[i] === movements[3]) {
        x = x - 10
      }

      console.log("(" + x + "," + y + ")")
      if (i === 30000) {
        if (x !== 1000) {

          x = 700
          y = 300

        }
      }
      if (y >= canvas.height) {
        y = y - 10 + (x - x)
      }
      if (x >= canvas.width) {
        x = x - 10 + (y - y)
      }


      console.log(i)
    }, 10 * i);



  }







  setInterval(update, 10)

  ctx.fillStyle = "green";
  ctx.rect(x, y, 10, 10);
  ctx.fill()



  function roundnum(num1) {
    return Math.ceil(num1 / 10) * 10;
    //return Math.round(num2 / 50) * 50;
  }
  function roundnum2(num2) {
    return Math.ceil(num2 / 10) * 10;
    //return Math.round(num2 / 50) * 50;
  }

  for (j = 0; j < foodNum; j++) {
    var food50x = Math.floor(Math.random() * canvas.width + 0)
    var food50y = Math.floor(Math.random() * canvas.height + 0)
    //foodPlaceY.push(round50y/*Math.floor(Math.random() * canvas.height + 0)*/)
    console.log(foodPlaceX)

  }

  function update() {
    ctx.clearRect(0, 0, canvas.width, canvas.height)
    ctx.beginPath()
    ctx.fillStyle = "green";
    ctx.rect(x, y, 10, 10);
    ctx.fill()




    //goal line
    ctx.strokeStyle = 'black';
    ctx.lineWidth = 5;

    ctx.beginPath();
    ctx.moveTo(1000, window.innerHeight);
    ctx.lineTo(1000, 0);
    ctx.stroke();
    console.log(foodPlaceX)






    for (h = 0; h < foodNum; h++) {
      ctx.beginPath()
      ctx.fillStyle = "brown";
      ctx.rect(foodPlaceX[h], foodPlaceY[h], 10, 10);
      ctx.fill()
      if ((x === foodPlaceX[h]) && (y === foodPlaceY[h])) {
        foodPlaceX.splice(h, 1);
        foodPlaceY.splice(h, 1)
        
      }
    }


    //var round50y = Math.round(num2 / 50) * 50

    console.log("round50x" + " " + round50x)



  }

  for (l = 0; l < foodNum; l++) {
    round50x = roundnum(Math.floor(Math.random() * canvas.width + 0))
    round50y = roundnum2(Math.floor(Math.random() * canvas.height + 0))
    foodPlaceX.push(round50x)
    foodPlaceY.push(round50y)
  }










</script>