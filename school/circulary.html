<!DOCTYPE html>
<html>

<head>

</head>

<body>

    <canvas id="canvas" width="600" height="600"></canvas>

</body>

</html>

<script>
    document.getElementById("canvas")
    var ctx = canvas.getContext("2d")

    canvas.width = innerWidth
    canvas.height = innerHeight

    var x = []
    var y = []
    var r = []
    var speedx = []
    var speedy = []
    var color = []
    
    

    var down = 0




    var hue = Math.floor(Math.random * 360)

    document.getElementById("canvas").addEventListener("click", HehHeh_Balls);
    






    setInterval(update, 20);


    function update() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        



        for (i = 0; i < x.length; i = i + 1) {

            ctx.beginPath()
            ctx.arc(x[i], y[i], r[i], 0, 2 * Math.PI);
            ctx.fillStyle = color[i] 
           


            ctx.fill()
            x[i] = x[i] + speedx[i]
            y[i] = y[i] + speedy[i]


            if (x[i] <= 50) {
                speedx[i] = speedx[i] * -1
                

            }

            if (x[i] >= window.innerWidth - 50) {
                speedx[i] = speedx[i] * -1
                

            }
            //Y move

            if (y[i] <= 50) {
                speedy[i] = speedy[i] * -1
                

            }

            if (y[i] >= window.innerHeight - 50) {
                speedy[i] = speedy[i] * -1
                
            }

            for (var j = 0; j < x.length; j = j + 1) {
                
                console.log("i " + i + " j " + j + " x[i]: " + x[i] + " y[i]: " + y[i])
                if (i !== j) {
                    if(Math.sqrt(((x[i]-x[j])*(x[i]-x[j]))+((y[i]-y[j])*(y[i]-y[j])))<(r[i]+r[j])){
                    var tempX=speedx[i]
                    var tempY=speedy[i]
                    speedx[i] = speedx[j]
                    speedy[i] = speedy[j]
                    speedx[j] = tempX
                    speedy[j] = tempY
                    
                    }
                }

            }

        }



    }

    
    function HehHeh_Balls() {
        var e = window.event;
        x.push(e.clientX)
        y.push(e.clientY)
        document.value = x
        document.value = y
        color.push("hsl(" + Math.random() * 361 + ",100%,50%)")
        
        speedx.push(Math.random() * 50)
        speedy.push(Math.random() * 50)
        r.push(Math.floor(Math.random() * 50 + 70))
    }


</script>