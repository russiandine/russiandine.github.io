<!DOCTYPE html>
<html>

<head>
    <style>
        #hi {
            display: block;
            opacity: 4;
        }

        #TP {
            display: block;
            opacity: 4;
        }

        #background {
            background-image: url('stars.jpg');
            background-repeat: repeat;
            background-attachment: fixed;
            background-position: absolute;
        }
    </style>
</head>

<body id="background">

    <canvas id="canvas" width="100%" height="600"></canvas>
    <img id="hi" src="SHip.png">
    <img id="TP" src="P1.png">
    <img id="C1" src="pokemon.png">
    <div id="background"></div>

</body>

</html>
<script>
    var sx = [0, 32, 64]
    var sxP1 = [0, 32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352]
    var sxC1 = {
        C1AndC2DirectionsX: [20, 90, 160, 90],
        C3DirectionsX: [230, 300, 370, 300],
        C4DirectionsX: [435, 500, 570, 500],
        C5DirectionsX: [640, 710, 780, 710]
    }
    var x = 500
    var y = 200
    var u = 0 //This is the problem.
    var TPx = 100
    var TPy = 300
    var xAdd = 0
    var yAdd = 0

    var charactersY = {
        CharacterMoveY: {
            C1DirectionsY: [670, 400, 490, 580],
            C2AndC3DirectionsY: [310, 30, 130, 220],
            //up: 670,
            // down: 400,
            //left: 490,
            //right: 580

            //up: 310,
            //down: 30,
            //left: 130,
            // right: 220
        }
    }








    document.getElementById("canvas")
    var ctx = canvas.getContext("2d")


    canvas.width = innerWidth
    canvas.height = innerHeight
    var i = 0
    var j = 0
    var h = 0
    var k = 0
    var q = 0
    var p = 0
    var a = 0
    var t = 0

    var stand = {
        stand12345: [90, 300, 500, 710],
        stand67: [300, 500]

    }
    setInterval(e, 10)
    setInterval(planetspin, 200)
    setInterval(walk, 100)



    document.addEventListener('keydown', keydown);
    document.addEventListener('keyup', keyup);


    function planetspin() {
        if (j > 10) {
            j = 0
        }


        j = j + 1
    }
    function walk() {
        if (h > 2) {
            h = -1
        }


        h = h + 1
    }







    function e() {

        var moveY = [charactersY.CharacterMoveY.C1DirectionsY[u], charactersY.CharacterMoveY.C2AndC3DirectionsY[u]];
        var moveX = [sxC1.C1AndC2DirectionsX[h], sxC1.C3DirectionsX[h], sxC1.C4DirectionsX[h], sxC1.C5DirectionsX[h]];
        moveY[k]
        moveX[q]
        var walkorstand = [moveX[q], stand.stand12345[p], stand.stand67[t]]
        x = x + xAdd
        y = y + yAdd
        TPx = TPx - x
        TPy = TPy - y



        document.getElementById("background").style.backgroundPosition = -x + "px " + -y + "px"
        var img = document.getElementById("hi");
        var TP = document.getElementById("TP");
        var C1 = document.getElementById("C1");

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(TP, sxP1[j], 0, 32, 32, 640 - x, 300 - y, 300, 300);
        ctx.drawImage(img, sx[i], 0, 32, 32, 640, 300, 100, 110);
        ctx.drawImage(C1, walkorstand[o], moveY[k], 65, 90, 640, 300, 100, 110);














    }
    var o = 0
    var six = false
    var seven = false


    function keydown(e) {
        if (e.key === "a") {
            o = 0
            u = 2
            i = 1
            xAdd = -50
        }
        if (e.key === "d") {
            o = 0
            u = 3
            i = 2
            xAdd = 50
        }
        if (e.key === "w") {
            o = 0
            u = 0
            yAdd = -50
        }
        if (e.key === "s") {
            o = 0
            u = 1
            yAdd = 50
        }
        if (e.key === "1") {
            k = 0
            q = 0
            o = 0
            p = 0
            six = false
            seven = false


        }
        if (e.key === "2") {
            q = 0
            k = 1
            o = 0
            p = 0
            six = false
            seven = false

        }
        if (e.key === "3") {
            q = 1
            k = 1
            o = 0
            p = 1
            six = false
            seven = false

        }
        if (e.key === "4") {
            q = 2
            k = 1
            o = 0
            p = 2
            six = false
            seven = false

        }
        if (e.key === "5") {
            q = 3
            k = 1
            o = 0
            p = 3
            six = false
            seven = false

        }
        if (e.key === "6") {
            q = 1
            k = 0
            o = 0
            p = 4
            t = 0
            u = 0
            six = true
            seven = false
        }
        if (e.key === "7") {
            q = 2
            k = 0
            o = 0
            u = 0
            seven = true
            six = false



        }
    }
    function keyup(e) {
        if (e.key === "a") {
            o = 1

            i = 0
            xAdd = 0
        }
        if (e.key === "d") {
            o = 1

            i = 0
            xAdd = 0
        }
        if (e.key === "w") {
            o = 1

            yAdd = 0
        }

        if (e.key === "s") {
            o = 1

            yAdd = 0
        }
        if ((e.key === "w") && ((six === true) || (seven === true))) {
            o = 2
            if ((e.key === "w") && (six === true)) {
                t = 0
             }
            if ((e.key === "w") && (seven === true)) {
                t = 1
             }
            
        }
        yAdd = 0

        if ((e.key === "a") && ((six === true) || (seven === true))) {
            o = 2

            yAdd = 0
        }
        if ((e.key === "s") && ((six === true) || (seven === true))) {
            o = 2

            yAdd = 0
        }
        if ((e.key === "d") && ((six === true) || (seven === true))) {
            o = 2

            yAdd = 0
        }
        if (e.key === "1") {
            k = 0
            q = 0
            o = 1


        }
        if (e.key === "2") {
            q = 0
            k = 1
            o = 1


        }
        if (e.key === "3") {
            q = 1
            k = 1
            o = 1


        }
        if (e.key === "4") {
            q = 2
            k = 1
            o = 1


        }
        if (e.key === "5") {
            q = 3
            k = 1
            o = 1


        }
        if (e.key === "6") {
            q = 1
            k = 0
            o = 1



        }
        if (e.key === "7") {
            q = 2
            k = 0
            o = 1



        }
    }

    






</script>